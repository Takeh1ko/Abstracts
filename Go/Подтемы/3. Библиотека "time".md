# Измерение времени выполнения функций

## Базовое измерение времени

```go
import "time"

start := time.Now()
// код для измерения
duration := time.Since(start)
fmt.Printf("Время выполнения: %v\n", duration)
```

## Измерение с defer

```go
func measureTime() {
    defer func(start time.Time) {
        fmt.Printf("Время выполнения: %v\n", time.Since(start))
    }(time.Now())
    
    // код функции
}
```

## Функция-обертка для измерения

```go
func timeIt(name string, fn func()) {
    start := time.Now()
    fn()
    fmt.Printf("%s: %v\n", name, time.Since(start))
}

// Использование
timeIt("operation", func() {
    // код операции
})
```

## Бенчмарки (testing)

```go
func BenchmarkFunction(b *testing.B) {
    for i := 0; i < b.N; i++ {
        // код для тестирования
    }
}

// Запуск: go test -bench=.
```

## Получение времени в разных форматах

```go
duration := time.Since(start)

duration.Nanoseconds()   // наносекунды
duration.Microseconds()  // микросекунды  
duration.Milliseconds()  // миллисекунды
duration.Seconds()       // секунды (float64)
```

## Измерение с точными временными метками

```go
start := time.Now()
// код
end := time.Now()
duration := end.Sub(start)
```

## Средний пример с несколькими измерениями

```go
func averageTime(fn func(), iterations int) time.Duration {
    var total time.Duration
    for i := 0; i < iterations; i++ {
        start := time.Now()
        fn()
        total += time.Since(start)
    }
    return total / time.Duration(iterations)
}
```